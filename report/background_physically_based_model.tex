\subsection{Physically Based Model}
Visually, one can define two distinct components of fire or flames; the inner blue core and the hot gaseous products. In this report we follow the technique used in REF TILL RAPPORT for tracking the border between the blue core and the hot gaseous products with an implicit surface (level set). The inside of the surface is defined as the gaseous fuel which has yet to be ignited, and the outside of the surface is defined as the ignited hot gaseous products. The black-body radiation emitted by the ignited fuel (hot gaseous products) are what we typically see as the orange or yellow coloured component of fire. We also track the temperature in order to enable us to discern between the blue core and hot gaseous products, and to be able to render the simulation with visual accuracy. The gaseous fuel is injected at its ignition temperature, and as fuel crosses over our implicit surface (igniting) its temperature cools until the black-body radiation is indistinguishable from the surrounding air.
\subsubsection{Blue Core}
As stated earlier, we separate the gaseous fuel from the ignited fuel by an implicit surface. This implicit surface moves at a velocity of the unreacted fuel velocity plus a flame speed \emph{S}. \emph{S} dictates at what rate the fuel is burning (moving over the implicit surface), and will produce different kinds of flames for different values for \emph{S}. A small value for \emph{S} will result in a blue core with greater surface area, and vice versa for a larger value for \emph{S}.
\subsubsection{Hot Gaseous Products}
The blackbody radiation emitted from the hot gaseous products is the part of the flame we often consider being yellow or orange. To be able to represent these colours when rendering the simulation we track the temperature across our grids. Another important aspect of the simulation is the expansion that takes place as the fuel passes over our implicit surface and ignites. A simplified explanation of what happens is an almost instantaneous expansion of the fuel as it ignites, causing a change in the fuel trajectory as it does so. We model this in the same fashion as in REF TILL RAPPORT HÄR, by using a density ratio between the density for the fuel and the hot gaseous product respectively. Since we assume that mass and momentum are preserved, we use the following equations from REF TILL RAPPORT HÄR to couple the flow equations across the implicit surface.
\begin{equation}
\rho_h(V_h-D) = \rho_f(V_f-D),
\end{equation}
\begin{equation}
\rho_h(V_h-D)^2+p_h = \rho_f(V_f-D)^2+p_f
\end{equation}
In these equations $V_h$ and $V_f$ are the velocities in the normal direction for the hot gaseous products and the fuel respectively, $D = V_f+S$ is the implicit surface's speed in the normal direction, and $p_h$ and $p_f$ are the pressures for the hot gaseous products and the fuel. Note that this rapid expansion causes discontinuities in both the density and the velocities in the area of the blue core border (the implicit surface). We must therefore be careful when taking derivatives in that region, which brings us to the next section.
\subsubsection{Two-phase Flow and Ghost Fluid Method}
We model the fuel and the hot gaseous products by two separate sets of incompressible flow equations, namely Navier-Stokes equations. The problem with discontinuities along the blue core surface described in the previous section can be solved by extrapolating values for each section (fuel and hot gaseous products) by the Ghost Fluid Method REF TILL GHOST-RAPPORT HÄR. If we  for example are taking the derivative for the unignited fuel in the vicinity of the blue core, we will extrapolate fuel velocity values for cells adjacent to, but outside of, the blue core. These extrapolated values can then be used when taking derivatives and we do not have to worry about the discontinuities described earlier. Vice versa for ignited fuel in the vicinity of the blue core.